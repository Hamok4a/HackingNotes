---
tags:
  - tcp
  - python
  - tcp_client
---

# creating a TCP_client via python

```python
#import socket library

import scoket

  

# make target host and port : to specify the distination of the tcp connection

target_host= "www.google.com"

target_port= 80

  

#create a socket object : to manage the connection , connecting to target host via target port

client=socket.socket(socket.AF_INET, socket.SOCK_STREAM)

  

#connect to the client

client.connect((target_host,target_port))

  

#send some data

client.send(b"GET / HTTP /1.1 \n Host: google.com \r\n\r\n")

  

#recieve some data

response = client.recv(4096)

  

print(response.decode())

client.close()
```

- we first  used the parameters AF_INET , SOCK_STREAM 
- we got them from the library called socket that we already imported it 
- so we use them as following  socket.AF_INET  and  socket.SOCK_STREAM we use those at the brackets made in the socket and we get the socket from the library called socket so it will be like this 
- `client = socket.socket(socket.AF_INET , socket.SOCK_STREAM)`
- the AF_INET => indicates that we will use the IPv4 address or hostname
- the SOCK_STREAM => indicates that this will be a TCP client . 
- we then will connect to the client server


```python
import socket

  

target_host= "127.0.0.1"

target_port=9997

#creat a socket object that uses udp instead of tcp

  

client=socket.socket(socket.AF_INET , socket.SOCK_DGRAM)

  

#send some data

client.sendto(b"AAABBBCCC",(target_host, target_port))

  

# recieve some data

data, addr = client.recvfrom(4096)

  

#print the recieved data with decoding it

print(data.decode())

  

client.close()
```

- we changed the socket type to SOCK_DGRAM when creating the socket object . 
- then we called the function sendto() 
- since UDP is a connection less protocol so we didn't  connect to the client in our small simple algorithm .
- we didnot use connect() . 
- we used the recvfrom() to get the data from the sendto place  we did send . 


# Tcp server
```python
import socket

import threading

  

IP='0.0.0.0'

PORT=9998

  

def main():

	server= socket.socket(socket.AF_INET , socket.SOCK_STREAM)
	
	server.bind((IP, PORT))
	
	server.listen(5)
	
	print(f'[*] Listening on {IP}:{PORT}')

  

while True:
	
	client, address = server.accept()
	
	print(f"[*] Accepted connection from {address[0]}:{address[1]}")
	
	client_handler = threading.Thread(target=handle_client,args=(client,))
	
	  
	
	client_handler.start()

def handle_client(client_socket):

	with client_socket as sock:
		
		request = sock.recv(1024)
		
		print(f'[*] Revieved: {request.decode("utf-8")}')
		
		sock.send(b"ACK")

  

if __name__ == '__main__':
	main()
```

















